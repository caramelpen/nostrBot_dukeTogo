### 3-2.autoReply.js

#### 作動内容の概要図は以下になります

| No. | 反応元投稿者 | 投稿内に固有設定値 | 作動確率 | 作動内容 |
|:---:|:------------:|:-----------------:|:---------:|:--------:|
|  1  | 管理者       |     (有無関係なし)    | 100% | リプライ |
|  2  | 一般         | 反応語句の前方に発見   | 100% | リプライ |
|  3  | 一般         | 反応語句の前方に未発見 |  ※2 | リプライ |
|  4  | 管理者       |      発見             | 100% | リプライ(※3) |
|  5  | 管理者       |    発見(※1)          | 100% | リアクション or リアクションとリプライ (※4) |
|  6  | 一般         |    発見(※1)          | 100% | リアクション or リアクションとリプライ (※4) |

##### ・フィードを購読し、autoReaction.json の nativeWords プロパティに設定してある語句そのもののポストを発見した場合、配列で設定してある autoReaction.json の contentReaction プロパティからランダム(※1)でリアクションするカスタム絵文字を取得し、その取得した要素番目に対応する autoReaction.json の reactionImgURL プロパティでリアクションし、さらに autoReaction.json の reactionImgURL プロパティを使用してリプライも行います
##### ・上記には例外があり、autoReaction.json の contentReaction プロパティがカスタム絵文字コードではなく既存絵文字を設定している場合は、autoReaction.json の reactionImgURL プロパティは未設定とし、リアクションは行わず、その絵文字でのリプライのみ行います
##### 

##### ・フィードを購読し、配列で設定してある autoReply.json の orgPost プロパティに設定された語句をフィードに発見すると、 probability プロパティに設定された確率を満たした時に限り、対応する配列で設定された replyPostChar プロパティからランダム(※1)でリプライ語句を決定し、元々の語句の投稿者へそのリプライ語句をリプライします

##### ・確率には例外があり、.envファイルの admin_HEX_PUBKEY (HEX値で設定してください) に設定した管理者の公開鍵のポストに対する反応か、反応語句の前方に autoReaction.json の nativeWords プロパティの設定値を発見（例：「ゴルゴテスト」、「ゴルゴ　テスト」　など）すると確率判定を無視し、100%の確率でリプライします
##### ・一度のポストに複数の反応語句があった場合はjsonの記述順で初めにヒットした orgPost の反応語句が対象になります

##### ・autoReply.json の orgPost プロパティに設定された語句をフィードに発見していなくても、管理者が autoReaction.json の nativeWords プロパティに設定してある語句を含むポストを行った場合、autoReply.json の 全 replyPostChar からランダム(※1)でリプライ語句を決定し、その語句を管理者へリプライします

### 　
##### ※1について
##### ・README.md の 4-2.3. をご覧ください
